/**
 * Copyright (c) Nicolas Gallagher.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @flow
 */

import ReactNativePropRegistry from './ReactNativePropRegistry';
import flattenStyle from './flattenStyle';
<<<<<<< HEAD
=======
import validate from './validate';
>>>>>>> e75a71e2c6ac3e5d484a463ebda2ebf8c6ccb707

const absoluteFillObject = {
  position: 'absolute',
  left: 0,
  right: 0,
  top: 0,
  bottom: 0
};
<<<<<<< HEAD
const absoluteFill = ReactNativePropRegistry.register(absoluteFillObject);
=======
const absoluteFill: number = ReactNativePropRegistry.register(absoluteFillObject);
>>>>>>> e75a71e2c6ac3e5d484a463ebda2ebf8c6ccb707

const StyleSheet = {
  absoluteFill,
  absoluteFillObject,
<<<<<<< HEAD
  compose(style1: any, style2: any) {
=======
  compose(style1: any, style2: any): any {
>>>>>>> e75a71e2c6ac3e5d484a463ebda2ebf8c6ccb707
    if (process.env.NODE_ENV !== 'production') {
      /* eslint-disable prefer-rest-params */
      const len = arguments.length;
      if (len > 2) {
<<<<<<< HEAD
        const readableStyles = [...arguments].map(a => flattenStyle(a));
=======
        const readableStyles = [...arguments].map((a) => flattenStyle(a));
>>>>>>> e75a71e2c6ac3e5d484a463ebda2ebf8c6ccb707
        throw new Error(
          `StyleSheet.compose() only accepts 2 arguments, received ${len}: ${JSON.stringify(
            readableStyles
          )}`
        );
      }
      /* eslint-enable prefer-rest-params */
    }

    if (style1 && style2) {
      return [style1, style2];
    } else {
      return style1 || style2;
    }
  },
<<<<<<< HEAD
  create(styles: Object) {
    const result = {};
    Object.keys(styles).forEach(key => {
      if (process.env.NODE_ENV !== 'production') {
        const validate = require('./validate');
        const interopValidate = validate.default ? validate.default : validate;
        interopValidate(key, styles);
=======
  create(styles: Object): {| [key: string]: number |} {
    const result = {};
    Object.keys(styles).forEach((key) => {
      if (process.env.NODE_ENV !== 'production') {
        validate(key, styles);
>>>>>>> e75a71e2c6ac3e5d484a463ebda2ebf8c6ccb707
      }
      const id = styles[key] && ReactNativePropRegistry.register(styles[key]);
      result[key] = id;
    });
    return result;
  },
  flatten: flattenStyle,

  // `hairlineWidth` is not implemented using screen density as browsers may
  // round sub-pixel values down to `0`, causing the line not to be rendered.
  hairlineWidth: 1
};

export default StyleSheet;
